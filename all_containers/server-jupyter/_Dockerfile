# Use the official image as a parent image.
#FROM python:3.7
FROM python:3.7-slim-buster

#COPY --chown=9008 ./common_files/ /common_files/

# Set the working directory.
#WORKDIR /usr/src/app

# copy all the files to the container
#COPY ./requirements.txt /temp
#COPY . .

#RUN apt-get update && apt-get install -y #--no-install-recommends \
#    python3.7 \
#    python3-pip \
#    python3-setuptools 
#    unzip
    
# install python dependencies
RUN python3 -m pip install --upgrade pip
RUN pip3 install --no-cache-dir -r requirements.txt
RUN pip3 install jupyter jupyter_contrib_nbextensions

RUN jupyter contrib nbextension install --user
RUN jupyter nbextension enable codefolding/main
RUN jupyter nbextension enable toggle_all_line_numbers/main
RUN jupyter nbextension enable collapsible_headings/main
RUN jupyter nbextension enable toc2/main
# RUN jupyter nbextension enable nbextensions_configurator/tree_tab/main


# define the port number the container should expose
EXPOSE 8888

#COPY --chown=9008 ./common_files/ /common_files/
#ENTRYPOINT ["/common_files/"]
#CMD ["jupyter notebook"]

# docker build -t test:pytest .
# docker run --name devtestp -p 48888:8888 test:pytest
# docker stop devtestp && docker rm devtestp

