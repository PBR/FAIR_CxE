version: "3.7"

services:
  fuseki:
    build:
      context: ./all_containers
      dockerfile: ./server-fuseki/Dockerfile
    image: cxe:fuseki
    environment: 
      - ADMIN_PASSWORD=pw123
      - ENABLE_DATA_WRITE=true
      - ENABLE_UPDATE=true
      - ENABLE_UPLOAD=true
      - FUSEKI_DATASET1=testdata1
      - QUERY_TIMEOUT=10000
    ports:
      - "43030:3030"
    networks: 
      - shared-network
      
  jupyter:
    build:
      context: ./all_containers
      dockerfile: ./server-jupyter/Dockerfile
    image: cxe:jupyter
    ports:
      - "48888:8888"
    networks: 
      - shared-network
      
  fdp:
    build:
      context: ./all_containers
      dockerfile: ./server-fdp/Dockerfile
    image: cxe:fdp
    ports:
      - "43131:43131"
    networks: 
      - shared-network

networks:
  shared-network:
    driver: bridge
